<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login</title>
  <link rel="stylesheet" href="auth.css" />
</head>
<body>

<div class="page">
  <div class="login-card" id="authCard">

    <!-- FORM PANEL -->
    <div class="login-panel">

      <!-- LOGIN FORM -->
      <div class="form login-form">
        <h2>Login</h2>

        <button type="button" class="oauth-btn" onclick="loginWithGoogle()">
          Continue with Google
        </button>

        <button type="button" class="oauth-btn" onclick="loginWithGithub()">
          Continue with GitHub
        </button>

        <div class="divider">OR</div>

        <div class="field">
          <input type="email" placeholder="Email" />
          <span class="icon">ðŸ“§</span>
        </div>

        <div class="field">
          <input type="password" placeholder="Password" />
          <span class="icon">ðŸ”’</span>
        </div>

        <button type="button" class="login-btn">Login</button>

        <p class="switch">
          Donâ€™t have an account?
          <span onclick="toggleAuth()">Sign up</span>
        </p>
      </div>

      <!-- SIGNUP FORM -->
      <div class="form signup-form">
        <h2>Create Account</h2>

        <button type="button" class="oauth-btn" onclick="loginWithGoogle()">
          Continue with Google
        </button>

        <button type="button" class="oauth-btn" onclick="loginWithGithub()">
          Continue with GitHub
        </button>

        <div class="divider">OR</div>

        <div class="field">
          <input type="email" placeholder="Email" />
          <span class="icon">ðŸ“§</span>
        </div>

        <div class="field">
          <input type="password" placeholder="Password" />
          <span class="icon">ðŸ”’</span>
        </div>

        <div class="field">
          <input type="password" placeholder="Confirm Password" />
          <span class="icon">ðŸ”’</span>
        </div>

        <button type="button" class="login-btn">Sign Up</button>

        <p class="switch">
          Already have an account?
          <span onclick="toggleAuth()">Sign in</span>
        </p>
      </div>

    </div>

    <!-- GLOW PANEL -->
    <div class="welcome-panel">
      <h1 id="panelText">WELCOME<br>BACK!</h1>
    </div>

  </div>
</div>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
  const supabase = window.supabase.createClient(
    "https://pjxrjytcurqrmbuhgyoi.supabase.co",
    "YOUR_ANON_KEY"
  );

  async function loginWithGoogle() {
    await supabase.auth.signInWithOAuth({
      provider: "google",
      options: {
        redirectTo: "http://localhost:5500/index.html"
      }
    });
  }

  async function loginWithGithub() {
    await supabase.auth.signInWithOAuth({
      provider: "github",
      options: {
        redirectTo: "http://localhost:5500/index.html"
      }
    });
  }

  function toggleAuth() {
    const card = document.getElementById("authCard");
    const text = document.getElementById("panelText");

    card.classList.toggle("signup-active");

    text.innerHTML = card.classList.contains("signup-active")
      ? "JOIN<br>US!"
      : "WELCOME<br>BACK!";
  }
</script>

</body>
</html>
